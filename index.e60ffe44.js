var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},o=e.parcelRequire0a46;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in t){var o=t[e];delete t[e];var i={id:e,exports:{}};return n[e]=i,o.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){t[e]=n},e.parcelRequire0a46=o);const i=document.getElementById("loader"),a=document.getElementById("search-form"),d=document.getElementById("search-input");function s(){i.classList.add("active")}function r(){i.classList.remove("active")}a.addEventListener("submit",(function(e){e.preventDefault(),function(){const e=d.value.trim();if(""!==e){const n=new XMLHttpRequest;n.addEventListener("loadstart",(()=>{s()})),n.addEventListener("loadend",(()=>{r()}));const t="81805be47c20a9977d0669120b6add4a",o=`https://api.themoviedb.org/3/search/movie?query=${encodeURIComponent(e)}&api_key=${t}`;n.open("GET",o,!0),n.setRequestHeader("Content-Type","application/json"),n.onload=function(){if(200===n.status){const e=JSON.parse(n.responseText);console.log(e)}else console.error("Wystąpił błąd podczas żądania API.")},n.onerror=function(){console.error("Wystąpił błąd podczas żądania API.")},n.send()}}()})),s(),setTimeout((function(){r()}),250),window.addEventListener("beforeunload",(function(){s()}));var l=o("e5H6e"),c=o("apLMo");const u=document.querySelector("#previous-btn"),p=document.querySelector("#next-btn"),m=document.querySelector("#pagination");let f=1,v=20;function h(e,n){const t=document.createElement("li"),o=document.createElement("button");return o.classList.add("pagination__element","pagination__element--button"),o.textContent=e,o.addEventListener("click",(()=>{e!==f&&(f=e,E())})),n&&o.classList.add("active"),t.appendChild(o),t}function y(){const e=document.createElement("li"),n=document.createElement("span");return n.classList.add("pagination__element","pagination__element--ellipsis"),n.textContent="...",e.appendChild(n),e}async function E(){const e=l.searchInputElement.value.trim(),n=await(0,l.searchMovies)(e,f);n.results.length?((0,l.displayMovies)(n),v=n.total_pages,g(v)):(l.main.innerHTML="",c.Notify.failure("Oops, there are no movies matching your search query. Please try again."))}function g(e){m.innerHTML="";const n=Math.floor(3.5);let t,o;f<=n?(t=1,o=Math.min(7,e)):f>e-n?(t=1,o=e,e>7&&(t=e-7+1,m.appendChild(h(1,!1)),m.appendChild(y()))):(t=f-n+1,o=f+n-1,m.appendChild(h(1,!1)),m.appendChild(y()));for(let e=t;e<=o;e++){const n=e===f;m.appendChild(h(e,n))}o<e&&m.appendChild(y());const i=h(e,!1);m.appendChild(i),u.disabled=1===f,p.disabled=f===v}u.addEventListener("click",(()=>{f>1&&(f--,E())})),p.addEventListener("click",(()=>{f++,E()})),g(v);l=o("e5H6e");o("1Go4p"),window.addEventListener("scroll",(function(){var e=document.getElementById("back-to-top");window.scrollY>250?e.style.display="block":e.style.display="none"})),window.addEventListener("DOMContentLoaded",(function(){document.getElementById("back-to-top").addEventListener("click",(function(e){e.preventDefault(),document.querySelector("#header").scrollIntoView({behavior:"smooth"})}))})),(0,l.initTrendingMovies)();
//# sourceMappingURL=index.e60ffe44.js.map
