{"mappings":"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","sources":["src/javascript/loader.js","src/javascript/pagination.js","src/javascript/backToTop.js"],"sourcesContent":["const loader = document.getElementById('loader');\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.getElementById('search-input');\n\nfunction showLoader() {\n  loader.classList.add('active');\n}\n\nfunction hideLoader() {\n  loader.classList.remove('active');\n}\n\nfunction performSearch() {\n  const query = searchInput.value.trim();\n  if (query !== '') {\n    const xhr = new XMLHttpRequest();\n\n    xhr.addEventListener('loadstart', () => {\n      showLoader();\n    });\n\n    xhr.addEventListener('loadend', () => {\n      hideLoader();\n    });\n\n    const apiKey = '81805be47c20a9977d0669120b6add4a';\n\n    const options = {\n      method: 'GET',\n      headers: {\n        accept: 'application/json',\n      },\n    };\n\n    const url = `https://api.themoviedb.org/3/search/movie?query=${encodeURIComponent(\n      query,\n    )}&api_key=${apiKey}`;\n    xhr.open('GET', url, true);\n    xhr.setRequestHeader('Content-Type', 'application/json');\n\n    xhr.onload = function () {\n      if (xhr.status === 200) {\n        const response = JSON.parse(xhr.responseText);\n        console.log(response);\n      } else {\n        console.error('Wystąpił błąd podczas żądania API.');\n      }\n    };\n\n    xhr.onerror = function () {\n      console.error('Wystąpił błąd podczas żądania API.');\n    };\n    xhr.send();\n  }\n}\n\nsearchForm.addEventListener('submit', function (e) {\n  e.preventDefault();\n  performSearch();\n});\n\nshowLoader();\n\nsetTimeout(function () {\n  hideLoader();\n}, 250);\n\nwindow.addEventListener('beforeunload', function () {\n  showLoader();\n});\n","import { searchMovies, displayMovies, main, searchInputElement } from './fetchTrendingMovies';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst previousButton = document.querySelector('#previous-btn');\nconst nextButton = document.querySelector('#next-btn');\nconst paginationList = document.querySelector('#pagination');\n\nlet currentPage = 1;\nlet totalPages = 20; \n\nfunction updatePaginationButtons() {\n  previousButton.disabled = currentPage === 1;\n  nextButton.disabled = currentPage === totalPages;\n}\n\nfunction createPaginationItem(pageNumber, isActive) {\n  const listItem = document.createElement('li');\n  const button = document.createElement('button');\n  button.classList.add('pagination__element', 'pagination__element--button');\n  button.textContent = pageNumber;\n  button.addEventListener('click', () => {\n    if (pageNumber !== currentPage) {\n      currentPage = pageNumber;\n      performSearch();\n    }\n  });\n\n  if (isActive) {\n    button.classList.add('active');\n  }\n\n  listItem.appendChild(button);\n  return listItem;\n}\n\nfunction createPaginationEllipsis() {\n  const listItem = document.createElement('li');\n  const ellipsisSpan = document.createElement('span');\n  ellipsisSpan.classList.add('pagination__element', 'pagination__element--ellipsis');\n  ellipsisSpan.textContent = '...';\n  listItem.appendChild(ellipsisSpan);\n  return listItem;\n}\n\nasync function performSearch() {\n  const query = searchInputElement.value.trim();\n  const searchResults = await searchMovies(query, currentPage);\n\n  if (searchResults.results.length) {\n    displayMovies(searchResults);\n    totalPages = searchResults.total_pages; // Przypisanie wartości totalPages\n    generatePagination(totalPages);\n  } else {\n    main.innerHTML = '';\n    Notify.failure('Oops, there are no movies matching your search query. Please try again.');\n  }\n}\n\nfunction generatePagination(totalPages) {\n  paginationList.innerHTML = '';\n\n  const maxVisibleButtons = 7;\n  const maxVisibleButtonsHalf = Math.floor(maxVisibleButtons / 2);\n\n  let firstVisiblePage, lastVisiblePage;\n\n  if (currentPage <= maxVisibleButtonsHalf) {\n    firstVisiblePage = 1;\n    lastVisiblePage = Math.min(maxVisibleButtons, totalPages);\n  } else if (currentPage > totalPages - maxVisibleButtonsHalf) {\n    firstVisiblePage = 1;\n    lastVisiblePage = totalPages;\n    if (totalPages > maxVisibleButtons) {\n      firstVisiblePage = totalPages - maxVisibleButtons + 1;\n      paginationList.appendChild(createPaginationItem(1, false));\n      paginationList.appendChild(createPaginationEllipsis());\n    }\n  } else {\n    firstVisiblePage = currentPage - maxVisibleButtonsHalf + 1;\n    lastVisiblePage = currentPage + maxVisibleButtonsHalf - 1;\n    paginationList.appendChild(createPaginationItem(1, false));\n    paginationList.appendChild(createPaginationEllipsis());\n  }\n\n  for (let i = firstVisiblePage; i <= lastVisiblePage; i++) {\n    const isActive = i === currentPage;\n    paginationList.appendChild(createPaginationItem(i, isActive));\n  }\n\n  if (lastVisiblePage < totalPages) {\n    paginationList.appendChild(createPaginationEllipsis());\n  }\n\n  const lastPageItem = createPaginationItem(totalPages, false);\n  paginationList.appendChild(lastPageItem);\n\n  updatePaginationButtons();\n}\n\npreviousButton.addEventListener('click', () => {\n  if (currentPage > 1) {\n    currentPage--;\n    performSearch();\n  }\n});\n\nnextButton.addEventListener('click', () => {\n  currentPage++;\n  performSearch();\n});\n\ngeneratePagination(totalPages)\n","     window.addEventListener('scroll', function() {\n            var backToTopButton = document.getElementById('back-to-top');\n            if (window.scrollY > 250) {\n                backToTopButton.style.display = 'block';\n            } else {\n                backToTopButton.style.display = 'none';\n            }\n        });\n\n        window.addEventListener('DOMContentLoaded', function() {\n            var backToTopButton = document.getElementById('back-to-top');\n            backToTopButton.addEventListener('click', function(e) {\n                e.preventDefault();\n                var header = document.querySelector('#header');\n                header.scrollIntoView({ behavior: 'smooth' });\n            });\n        });"],"names":["$1b853ccb828b18af$var$loader","document","getElementById","$1b853ccb828b18af$var$searchForm","$1b853ccb828b18af$var$searchInput","$1b853ccb828b18af$var$showLoader","classList","add","$1b853ccb828b18af$var$hideLoader","remove","addEventListener","e","preventDefault","query","value","trim","xhr","XMLHttpRequest","apiKey","url","encodeURIComponent","open","setRequestHeader","onload","status","response","JSON","parse","responseText","console","log","error","onerror","send","$1b853ccb828b18af$var$performSearch","setTimeout","window","$e5H6e","parcelRequire","$851c5e5c523018e2$var$previousButton","querySelector","$851c5e5c523018e2$var$nextButton","$851c5e5c523018e2$var$paginationList","$851c5e5c523018e2$var$currentPage","$851c5e5c523018e2$var$totalPages","$851c5e5c523018e2$var$createPaginationItem","pageNumber","isActive","listItem","createElement","button","textContent","$851c5e5c523018e2$var$performSearch","appendChild","$851c5e5c523018e2$var$createPaginationEllipsis","ellipsisSpan","async","searchInputElement","searchResults","searchMovies","results","length","displayMovies","total_pages","$851c5e5c523018e2$var$generatePagination","main","innerHTML","$apLMo","Notify","failure","totalPages","maxVisibleButtonsHalf","Math","floor","maxVisibleButtons","firstVisiblePage","lastVisiblePage","min","i","lastPageItem","disabled","backToTopButton","scrollY","style","display","scrollIntoView","behavior"],"version":3,"file":"index.7dfdbb2c.js.map"}