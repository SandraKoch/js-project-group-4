{"mappings":"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","sources":["src/javascript/loader.js","src/javascript/pagination.js","src/javascript/fetchTrendingMovies.js","src/javascript/modal.js"],"sourcesContent":["const loader = document.getElementById('loader');\n\nfunction showLoader() {\n  loader.classList.add('active');\n}\n\nfunction hideLoader() {\n  loader.classList.remove('active');\n}\n\nwindow.addEventListener('load', () => {\n  const xhr = new XMLHttpRequest();\n\n  xhr.addEventListener('loadstart', () => {\n    showLoader();\n  });\n\n  xhr.addEventListener('loadend', () => {\n    hideLoader();\n  });\n  loader.style.display = 'block';\n\n  setTimeout(function () {\n    loader.style.display = 'none';\n  }, 250);\n});\n","const previousBtn = document.getElementById('previous-btn');\nconst nextBtn = document.getElementById('next-btn');\nconst paginationList = document.getElementById('pagination');\n\nconst totalPages = 20;\nlet currentPage = 1;\n\nfunction generatePagination() {\n  paginationList.innerHTML = '';\n\n  if (currentPage > 3) {\n    createPaginationButton(1);\n    if (currentPage > 4) {\n      createEllipsisButton();\n    }\n  }\n\n  const startPage = Math.max(currentPage - 2, 1);\n  const endPage = Math.min(currentPage + 2, totalPages);\n\n  for (let i = startPage; i <= endPage; i++) {\n    createPaginationButton(i);\n  }\n\n  if (currentPage < totalPages - 2) {\n    if (currentPage < totalPages - 3) {\n      createEllipsisButton();\n    }\n    createPaginationButton(totalPages);\n  }\n\n  previousBtn.disabled = currentPage === 1;\n  nextBtn.disabled = currentPage === totalPages;\n}\n\nfunction createPaginationButton(pageNumber) {\n  const li = document.createElement('li');\n  const button = document.createElement('button');\n  button.innerText = pageNumber;\n  button.classList.add('pagination__element');\n\n  if (pageNumber === currentPage) {\n    button.classList.add('pagination__element--active');\n  }\n\n  button.addEventListener('click', () => {\n    currentPage = pageNumber;\n    generatePagination();\n  });\n\n  li.appendChild(button);\n  paginationList.appendChild(li);\n}\n\nfunction createEllipsisButton() {\n  const li = document.createElement('li');\n  const span = document.createElement('span');\n  span.innerText = '...';\n  li.appendChild(span);\n  paginationList.appendChild(li);\n}\n\ngeneratePagination();\n\n// Dodaj obsługę kliknięcia w strzałki\npreviousBtn.addEventListener('click', () => {\n  if (currentPage > 1) {\n    currentPage--;\n    generatePagination();\n  }\n});\n\nnextBtn.addEventListener('click', () => {\n  if (currentPage < totalPages) {\n    currentPage++;\n    generatePagination();\n  }\n});","import { API_KEY } from './config';\n\nconst ACCESS_TOKEN =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4MTgwNWJlNDdjMjBhOTk3N2QwNjY5MTIwYjZhZGQ0YSIsInN1YiI6IjY0ODIyOWYyZDJiMjA5MDBlYmJmM2RiOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.QBYkVP1Y4DcB7g5RndWRVtYQ8Tp2I0wKn0TtL28dElE';\nlet PAGE = 1;\n\nconst searchFormElement = document.querySelector('#search-form');\nconst searchInputElement = document.querySelector('#search-input');\nconst main = document.querySelector('#main');\nlet genresArr = [];\n\nexport const options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: 'Bearer ' + ACCESS_TOKEN,\n  },\n};\n\n// fetch to get the list of genres\n// const optionsGenres = {\n//   method: 'GET',\n//   headers: {\n//     accept: 'application/json',\n//     Authorization:\n//       'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4MTgwNWJlNDdjMjBhOTk3N2QwNjY5MTIwYjZhZGQ0YSIsInN1YiI6IjY0ODIyOWYyZDJiMjA5MDBlYmJmM2RiOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.QBYkVP1Y4DcB7g5RndWRVtYQ8Tp2I0wKn0TtL28dElE',\n//   },\n// };\n\nfetch('https://api.themoviedb.org/3/genre/movie/list?language=en', options)\n  .then(response => response.json())\n  .then(response => {\n    genresArr = response.genres;\n  })\n  .catch(err => console.error(err));\n\n// fetch to get the list of trending movies\n// export const optionsTrending = {\n//   method: 'GET',\n//   headers: {\n//     accept: 'application/json',\n//     Authorization:\n//       'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4MTgwNWJlNDdjMjBhOTk3N2QwNjY5MTIwYjZhZGQ0YSIsInN1YiI6IjY0ODIyOWYyZDJiMjA5MDBlYmJmM2RiOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.QBYkVP1Y4DcB7g5RndWRVtYQ8Tp2I0wKn0TtL28dElE',\n//   },\n// };\n\nfetch('https://api.themoviedb.org/3/trending/movie/day?language=en-US', options)\n  .then(response => response.json())\n  .then(({ results }) => {\n    main.innerHTML = '';\n    results.forEach((film, filmIndex) => {\n      // Get the genre names based on genre IDs\n      const movieGenres = film.genre_ids\n        .map(genreId => {\n          const genre = genresArr.find(genre => genre.id === genreId);\n          return genre ? genre.name.toString() : '';\n        })\n        .join(', ');\n\n      // Format the release date\n      const releaseDate = new Date(film.release_date).toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: undefined,\n        day: undefined,\n      });\n\n      main.insertAdjacentHTML(\n        'beforeend',\n        `\n        <ul id=\"main__list\" class=\"main__list\">\n          <li id=\"main__list-item\" class=\"main__list-item\">\n            <figure id=\"main__movie\" class=\"main__movie\">\n              <img id=\"${film.id}\" class=\"main__image\"\n                src=\"https://image.tmdb.org/t/p/w500${film.poster_path}\" alt=\"${film.title}\" />\n              <figcaption id=\"main__caption\" class=\"main__caption\">\n                <span id=\"main__movie-name\" class=\"main__movie-name\">\n                  ${film.original_title}\n                </span>\n                <div>\n                <span id=\"main__movie-genres\" class=\"main__movie-data\">${movieGenres}</span>\n                <span class=\"main__movie-data\">|</span>\n                <span id=\"main__movie-release-date\" class=\"main__movie-release-date main__movie-data\">\n                  ${releaseDate}\n                </span>\n                </div>\n              </figcaption>\n            </figure>\n          </li>\n        </ul>\n      `,\n      );\n    });\n  })\n  .catch(err => console.error(err));\n\n//search movies\n\nasync function searchMovies(query, page) {\n  // const response = await fetch(`https://api.themoviedb.org/3/search/keyword?query=${query}&PAGE=${page}`, options);\n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?query=${query}&include_adult=false&page=${page}`,\n    options,\n  )\n    .then(response => response.json())\n    .then(jsonResponse => {\n      return jsonResponse;\n    })\n    .catch(err => console.error(err));\n}\n\nfunction displayMovies(results) {\n  const moviesArr = results.results;\n  main.innerHTML = '';\n  moviesArr.forEach(film => {\n    main.insertAdjacentHTML(\n      'beforeend',\n      `\n      <ul id=\"main__list\" class=\"main__list\">\n        <li id=\"main__list-item\" class=\"main__list-item\">\n          <figure id=\"main__movie\" class=\"main__movie\">\n            <img id=\"${film.id}\" class=\"main__image\"\n              src=\"https://image.tmdb.org/t/p/w500${film.poster_path}\" alt=\"${film.title}\" />\n            <figcaption id=\"main__caption\" class=\"main__caption\">\n              <span id=\"main__movie-name\" class=\"main__movie-name\">\n                ${film.original_title}\n              </span>\n              <div>\n              <span id=\"main__movie-genres\" class=\"main__movie-data\">{movieGenres}</span>\n              <span class=\"main__movie-data\">|</span>\n              <span id=\"main__movie-release-date\" class=\"main__movie-release-date main__movie-data\">\n                {releaseDate}\n              </span>\n              </div>\n            </figcaption>\n          </figure>\n        </li>\n      </ul>\n    `,\n    );\n  });\n}\n\nsearchFormElement.addEventListener('submit', async e => {\n  e.preventDefault();\n  const trimmedInputValue = searchInputElement.value.trim();\n  const foundMovies = await searchMovies(trimmedInputValue, PAGE);\n  // console.log('foundMovies', foundMovies);\n  handleResults(foundMovies);\n});\n\nfunction handleResults(results) {\n  if (results) {\n    displayMovies(results);\n  } else {\n    Notify.failure('Oops, there are no movies matching your search query. Please try again.');\n  }\n}\n","import './fetchTrendingMovies';\nimport { options, trendingMovies } from './fetchTrendingMovies';\n\nconst modal = document.querySelector('#backdrop');\nconst closeBtn = document.querySelector('#modal-close-button');\nconst main = document.querySelector('#main');\n\n//opening modal window\n\nconst openModal = event => {\n  event.preventDefault();\n\n  if (event.target.nodeName !== 'IMG') {\n    return;\n  }\n\n  modal.classList.remove('is-hidden');\n};\n\nconst closeModal = event => {\n  event.preventDefault();\n\n  modal.classList.add('is-hidden');\n};\n\nmain.addEventListener('click', openModal);\ncloseBtn.addEventListener('click', closeModal);\nwindow.addEventListener('keydown', event => {\n  // event.preventDefault();\n  if (event.code === 'Escape') {\n    modal.classList.add('is-hidden');\n  }\n});\nmodal.addEventListener('click', event => {\n  event.preventDefault();\n  if (event.target === modal) {\n    modal.classList.add('is-hidden');\n  }\n});\n\nfunction fetchMovieInfo(movieId) {\n  return fetch(`https://api.themoviedb.org/3/movie/${movieId}`, options)\n    .then(response => response.json())\n    .catch(error => console.log(error));\n}\n\nmain.addEventListener('click', e => {\n  console.log(e.target.id);\n  fetchMovieInfo(e.target.id)\n    .then(movie => {\n      console.log(movie);\n      fillModal(movie);\n    })\n    .catch(error => console.log(error));\n});\n\nfunction fillModal(movie) {\n  modal.innerHTML = '';\n\n  modal.insertAdjacentHTML(\n    'beforeend',\n    `<button id=\"modal-close-button\" class=\"modal-close-button\">\n  <svg class=\"close-button\" width=\"30px\" height=\"30px\">\n    <use href=\"./images/close.svg#close\"></use>\n  </svg>\n</button>\n<div id=\"image-box\" class=\"image-box\">\n  <img src=\"https://image.tmdb.org/t/p/w500${movie.poster_path}\" id=\"image-box__image\" class=\"image-box__image\" />\n</div>\n<div id=\"movie-info\" class=\"movie-info\">\n  <h2 id=\"movie-title\" class=\"movie-title\">${movie.title}</h2>\n\n  <div class=\"movie-details\">\n    <ul class=\"movie-details__list\">\n      <li class=\"movie-details__item\">\n        <p class=\"movie-details__aspect\">Vote / Votes</p>\n\n        <!--przykładowe wartości-->\n        <p id=\"movie-details__value\" class=\"movie-details__value\">\n          <span id=\"movie-rating\" class=\"movie-rating\">${movie.vote_average}/</span>/<span\n            id=\"movie-votes\"\n            class=\"movie-votes\"\n            >${movie.vote_count}</span\n          >\n        </p>\n      </li>\n\n      <li class=\"movie-details__item\">\n        <p class=\"movie-details__aspect\">Popularity</p>\n        <!--przykładowe wartości-->\n        <p id=\"movie-details__value\" class=\"movie-details__value\">\n          <span id=\"movie-popularity\" class=\"movie-popularity\">${movie.popularity}</span>\n        </p>\n      </li>\n\n      <li class=\"movie-details__item\">\n        <p class=\"movie-details__aspect\">${movie.original_title}</p>\n        <!--przykładowe wartości-->\n        <p id=\"movie-details__value\" class=\"movie-details__value\">\n          <span id=\"orginal-movie-title\" class=\"orginal-movie-title\">Orginal Title</span>\n        </p>\n      </li>\n\n      <li class=\"movie-details__item\">\n        <p class=\"movie-details__aspect\">Genre</p>\n        <!--przykładowe wartości-->\n        <p id=\"movie-details__value\" class=\"movie-details__value\">\n          <span id=\"movie-genre\" class=\"movie-genre\">Wester</span>\n        </p>\n      </li>\n    </ul>\n  </div>\n  <div class=\"movie-description\">\n    <p class=\"movie-description__about\">ABOUT</p>\n    <p id=\"movie-description__description\" class=\"movie-description__description\">\n      Lorem ipsum dolor sit amet consectetur adipisicing elit. A labore ut quo. Maxime corrupti\n      quasi quos sed molestias nisi delectus tempore est, commodi sit repudiandae, dolor\n      praesentium veniam. Corrupti maiores voluptate tenetur ullam enim, at deleniti unde\n      dignissimos porro dolores perferendis accusantium harum animi reprehenderit obcaecati\n      molestiae sunt doloremque earum.\n    </p>\n  </div>\n  <div class=\"buttons-box\">\n    <button type=\"button\" id=\"watched-button\" class=\"watched-button\">ADD TO WATCHED</button>\n    <button type=\"button\" id=\"queue-button\" class=\"queue-button\">ADD TO QUEUE</button>\n  </div>\n</div>`,\n  );\n}\n"],"names":["$1b853ccb828b18af$var$loader","document","getElementById","window","addEventListener","xhr","XMLHttpRequest","classList","add","remove","style","display","setTimeout","$851c5e5c523018e2$var$previousBtn","$851c5e5c523018e2$var$nextBtn","$851c5e5c523018e2$var$paginationList","$851c5e5c523018e2$var$totalPages","$851c5e5c523018e2$var$currentPage","$851c5e5c523018e2$var$generatePagination","innerHTML","$851c5e5c523018e2$var$createPaginationButton","$851c5e5c523018e2$var$createEllipsisButton","startPage","Math","max","endPage","min","i","disabled","pageNumber","li","createElement","button","innerText","appendChild","span","$a422f70149cb0f66$var$searchFormElement","querySelector","$a422f70149cb0f66$var$searchInputElement","$a422f70149cb0f66$var$main","$a422f70149cb0f66$var$genresArr","$a422f70149cb0f66$export$41c562ebe57d11e2","method","headers","accept","Authorization","fetch","then","response","json","genres","catch","err","console","error","results","forEach","film","filmIndex","movieGenres","genre_ids","map","genreId","genre","find","id","name","toString","join","releaseDate","Date","release_date","toLocaleDateString","year","month","undefined","day","insertAdjacentHTML","poster_path","title","original_title","async","e","preventDefault","trimmedInputValue","value","trim","foundMovies","query","page","jsonResponse","$a422f70149cb0f66$var$searchMovies","moviesArr","$a422f70149cb0f66$var$displayMovies","Notify","failure","$139c6285baa179a5$var$modal","$139c6285baa179a5$var$closeBtn","$139c6285baa179a5$var$main","event","target","nodeName","code","movieId","log","movie","vote_average","vote_count","popularity","$139c6285baa179a5$var$fillModal"],"version":3,"file":"index.0e6834b8.js.map"}