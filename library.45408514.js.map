{"mappings":"AAAA,MAAMA,EAASC,SAASC,eAAe,UAUvCC,OAAOC,iBAAiB,QAAQ,KAC9B,MAAMC,EAAM,IAAIC,eAEhBD,EAAID,iBAAiB,aAAa,KAVlCJ,EAAOO,UAAUC,IAAI,SAWnB,IAGFH,EAAID,iBAAiB,WAAW,KAVhCJ,EAAOO,UAAUE,OAAO,SAWtB,IAEFT,EAAOU,MAAMC,QAAU,QAEvBC,YAAW,WACTZ,EAAOU,MAAMC,QAAU,MACzB,GAAG,QCrBL,MAAME,EAAOZ,SAASa,cAAc,SACpC,IAAIC,EAAY,GAEhB,MAAMC,EAAoBC,IACxB,IACE,MAAMC,EAAYC,KAAKC,MAAMC,aAAaC,QAAQL,IAElD,GADAM,QAAQC,IAAIN,GACM,OAAdA,EAAoB,OAyCxB,OAxCAA,EAAUO,SAAQC,IAChBH,QAAQC,IAAIE,GACZH,QAAQC,IAAIT,GACZ,MAAMY,EAAcD,EAAKE,OACtBC,KAAIC,IACH,MAAMC,EAAQhB,EAAUiB,MAAKD,GAASA,EAAME,KAAOH,IACnD,OAAOC,EAAQA,EAAMG,KAAKC,WAAa,EAAE,IAE1CC,KAAK,MACFC,EAAc,IAAIC,KAAKZ,EAAKa,cAAcC,mBAAmB,QAAS,CAC1EC,KAAM,UACNC,WAAOC,EACPC,SAAKD,IAEP9B,EAAKgC,mBACH,YACA,qMAIiBnB,EAAKO,gFACwBP,EAAKoB,qBAAqBpB,EAAKqB,4KAGjErB,EAAKsB,0IAGgDrB,8LAGvDU,iJAOX,IAGInB,CAGT,CAFE,MAAO+B,GACPC,MAAM,uBAAuBD,EAAEd,aACjC,GAGIgB,EAAYlD,SAASa,cAAc,mBACnCsC,EAAcnD,SAASa,cAAc,qBAE3CqC,EAAU/C,iBAAiB,SAAS,KAClCmB,QAAQC,IAAI,aACZX,EAAKwC,UAAY,IACjBrC,EAAkB,YAEpBoC,EAAYhD,iBAAiB,SAAS,KACpCmB,QAAQC,IAAI,eACZX,EAAKwC,UAAY,IACjBrC,EAAkB,cAGpBA,EAAkB","sources":["src/javascript/loader.js","src/library.js"],"sourcesContent":["const loader = document.getElementById('loader');\n\nfunction showLoader() {\n  loader.classList.add('active');\n}\n\nfunction hideLoader() {\n  loader.classList.remove('active');\n}\n\nwindow.addEventListener('load', () => {\n  const xhr = new XMLHttpRequest();\n\n  xhr.addEventListener('loadstart', () => {\n    showLoader();\n  });\n\n  xhr.addEventListener('loadend', () => {\n    hideLoader();\n  });\n  loader.style.display = 'block';\n\n  setTimeout(function () {\n    loader.style.display = 'none';\n  }, 250);\n});\n","import './sass/main.scss';\nimport './javascript/loader.js';\n\nconst main = document.querySelector('#main');\nlet genresArr = [];\n\nconst loadWatchedFromLS = key => {\n  try {\n    const parsedArr = JSON.parse(localStorage.getItem(key));\n    console.log(parsedArr);\n    if (parsedArr === null) return;\n    parsedArr.forEach(film => {\n      console.log(film);\n      console.log(genresArr);\n      const movieGenres = film.genres\n        .map(genreId => {\n          const genre = genresArr.find(genre => genre.id === genreId);\n          return genre ? genre.name.toString() : '';\n        })\n        .join(', ');\n      const releaseDate = new Date(film.release_date).toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: undefined,\n        day: undefined,\n      });\n      main.insertAdjacentHTML(\n        'beforeend',\n        `\n        <ul id=\"main__list\" class=\"main__list\">\n          <li id=\"main__list-item\" class=\"main__list-item\">\n            <figure id=\"main__movie\" class=\"main__movie\">\n              <img id=\"${film.id}\" class=\"main__image\"\n                src=\"https://image.tmdb.org/t/p/w500${film.poster_path}\" alt=\"${film.title}\" />\n              <figcaption id=\"main__caption\" class=\"main__caption\">\n                <span id=\"main__movie-name\" class=\"main__movie-name\">\n                  ${film.original_title}\n                </span>\n                <div>\n                <span id=\"main__movie-genres\" class=\"main__movie-data\">${movieGenres}</span>\n                <span class=\"main__movie-data\">|</span>\n                <span id=\"main__movie-release-date\" class=\"main__movie-release-date main__movie-data\">\n                ${releaseDate}\n                </span>\n                </div>\n              </figcaption>\n            </figure>\n          </li>\n        </ul>\n      `,\n      );\n    });\n    return parsedArr;\n  } catch (e) {\n    alert(`There was a mistake ${e.toString()}`);\n  }\n};\n\nconst userQueue = document.querySelector('#user-queue-btn');\nconst userWatched = document.querySelector('#user-watched-btn');\n\nuserQueue.addEventListener('click', () => {\n  console.log('queue btn');\n  main.innerHTML = ' ';\n  loadWatchedFromLS('queue');\n});\nuserWatched.addEventListener('click', () => {\n  console.log('watched btn');\n  main.innerHTML = ' ';\n  loadWatchedFromLS('watched');\n});\n\nloadWatchedFromLS('watched');\n"],"names":["$1b853ccb828b18af$var$loader","document","getElementById","window","addEventListener","xhr","XMLHttpRequest","classList","add","remove","style","display","setTimeout","$9a8afeea60b9dfd3$var$main","querySelector","$9a8afeea60b9dfd3$var$genresArr","$9a8afeea60b9dfd3$var$loadWatchedFromLS","key","parsedArr","JSON","parse","localStorage","getItem","console","log","forEach","film","movieGenres","genres","map","genreId","genre","find","id","name","toString","join","releaseDate","Date","release_date","toLocaleDateString","year","month","undefined","day","insertAdjacentHTML","poster_path","title","original_title","e","alert","$9a8afeea60b9dfd3$var$userQueue","$9a8afeea60b9dfd3$var$userWatched","innerHTML"],"version":3,"file":"library.45408514.js.map"}