const e=document.getElementById("loader");window.addEventListener("load",(()=>{const i=new XMLHttpRequest;i.addEventListener("loadstart",(()=>{e.classList.add("active")})),i.addEventListener("loadend",(()=>{e.classList.remove("active")})),e.style.display="block",setTimeout((function(){e.style.display="none"}),250)}));const i=document.getElementById("previous-btn"),n=document.getElementById("next-btn"),t=document.getElementById("pagination"),a=20;let s=1;function o(){t.innerHTML="",s>3&&(l(1),s>4&&d());const e=Math.max(s-2,1),o=Math.min(s+2,a);for(let i=e;i<=o;i++)l(i);s<18&&(s<17&&d(),l(a)),i.disabled=1===s,n.disabled=s===a}function l(e){const i=document.createElement("li"),n=document.createElement("button");n.innerText=e,n.classList.add("pagination__element"),e===s&&n.classList.add("pagination__element--active"),n.addEventListener("click",(()=>{s=e,o()})),i.appendChild(n),t.appendChild(i)}function d(){const e=document.createElement("li"),i=document.createElement("span");i.innerText="...",e.appendChild(i),t.appendChild(e)}o(),i.addEventListener("click",(()=>{s>1&&(s--,o())})),n.addEventListener("click",(()=>{s<a&&(s++,o())}));const c=document.querySelector("#search-form"),m=document.querySelector("#search-input"),r=document.querySelector("#main");let p=[];const _={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4MTgwNWJlNDdjMjBhOTk3N2QwNjY5MTIwYjZhZGQ0YSIsInN1YiI6IjY0ODIyOWYyZDJiMjA5MDBlYmJmM2RiOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.QBYkVP1Y4DcB7g5RndWRVtYQ8Tp2I0wKn0TtL28dElE"}};fetch("https://api.themoviedb.org/3/genre/movie/list?language=en",_).then((e=>e.json())).then((e=>{p=e.genres})).catch((e=>console.error(e))),fetch("https://api.themoviedb.org/3/trending/movie/day?language=en-US",_).then((e=>e.json())).then((({results:e})=>{r.innerHTML="",e.forEach(((e,i)=>{const n=e.genre_ids.map((e=>{const i=p.find((i=>i.id===e));return i?i.name.toString():""})).join(", "),t=new Date(e.release_date).toLocaleDateString("en-US",{year:"numeric",month:void 0,day:void 0});r.insertAdjacentHTML("beforeend",`\n        <ul id="main__list" class="main__list">\n          <li id="main__list-item" class="main__list-item">\n            <figure id="main__movie" class="main__movie">\n              <img id="${e.id}" class="main__image"\n                src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.title}" />\n              <figcaption id="main__caption" class="main__caption">\n                <span id="main__movie-name" class="main__movie-name">\n                  ${e.original_title}\n                </span>\n                <div>\n                <span id="main__movie-genres" class="main__movie-data">${n}</span>\n                <span class="main__movie-data">|</span>\n                <span id="main__movie-release-date" class="main__movie-release-date main__movie-data">\n                  ${t}\n                </span>\n                </div>\n              </figcaption>\n            </figure>\n          </li>\n        </ul>\n      `)}))})).catch((e=>console.error(e))),c.addEventListener("submit",(async e=>{e.preventDefault();const i=m.value.trim(),n=await async function(e,i){return fetch(`https://api.themoviedb.org/3/search/movie?query=${e}&include_adult=false&page=${i}`,_).then((e=>e.json())).then((e=>e)).catch((e=>console.error(e)))}(i,1);var t;(t=n)?function(e){const i=e.results;r.innerHTML="",i.forEach((e=>{r.insertAdjacentHTML("beforeend",`\n      <ul id="main__list" class="main__list">\n        <li id="main__list-item" class="main__list-item">\n          <figure id="main__movie" class="main__movie">\n            <img id="${e.id}" class="main__image"\n              src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.title}" />\n            <figcaption id="main__caption" class="main__caption">\n              <span id="main__movie-name" class="main__movie-name">\n                ${e.original_title}\n              </span>\n              <div>\n              <span id="main__movie-genres" class="main__movie-data">{movieGenres}</span>\n              <span class="main__movie-data">|</span>\n              <span id="main__movie-release-date" class="main__movie-release-date main__movie-data">\n                {releaseDate}\n              </span>\n              </div>\n            </figcaption>\n          </figure>\n        </li>\n      </ul>\n    `)}))}(t):Notify.failure("Oops, there are no movies matching your search query. Please try again.")}));const v=document.querySelector("#backdrop"),u=document.querySelector("#modal-close-button"),g=document.querySelector("#main");g.addEventListener("click",(e=>{e.preventDefault(),"IMG"===e.target.nodeName&&v.classList.remove("is-hidden")})),u.addEventListener("click",(e=>{e.preventDefault(),v.classList.add("is-hidden")})),window.addEventListener("keydown",(e=>{"Escape"===e.code&&v.classList.add("is-hidden")})),v.addEventListener("click",(e=>{e.preventDefault(),e.target===v&&v.classList.add("is-hidden")})),g.addEventListener("click",(e=>{var i;console.log(e.target.id),(i=e.target.id,fetch(`https://api.themoviedb.org/3/movie/${i}`,_).then((e=>e.json())).catch((e=>console.log(e)))).then((e=>{console.log(e),function(e){v.innerHTML="",v.insertAdjacentHTML("beforeend",`<button id="modal-close-button" class="modal-close-button">\n  <svg class="close-button" width="30px" height="30px">\n    <use href="./images/close.svg#close"></use>\n  </svg>\n</button>\n<div id="image-box" class="image-box">\n  <img src="https://image.tmdb.org/t/p/w500${e.poster_path}" id="image-box__image" class="image-box__image" />\n</div>\n<div id="movie-info" class="movie-info">\n  <h2 id="movie-title" class="movie-title">${e.title}</h2>\n\n  <div class="movie-details">\n    <ul class="movie-details__list">\n      <li class="movie-details__item">\n        <p class="movie-details__aspect">Vote / Votes</p>\n\n        \x3c!--przykładowe wartości--\x3e\n        <p id="movie-details__value" class="movie-details__value">\n          <span id="movie-rating" class="movie-rating">${e.vote_average}/</span>/<span\n            id="movie-votes"\n            class="movie-votes"\n            >${e.vote_count}</span\n          >\n        </p>\n      </li>\n\n      <li class="movie-details__item">\n        <p class="movie-details__aspect">Popularity</p>\n        \x3c!--przykładowe wartości--\x3e\n        <p id="movie-details__value" class="movie-details__value">\n          <span id="movie-popularity" class="movie-popularity">${e.popularity}</span>\n        </p>\n      </li>\n\n      <li class="movie-details__item">\n        <p class="movie-details__aspect">${e.original_title}</p>\n        \x3c!--przykładowe wartości--\x3e\n        <p id="movie-details__value" class="movie-details__value">\n          <span id="orginal-movie-title" class="orginal-movie-title">Orginal Title</span>\n        </p>\n      </li>\n\n      <li class="movie-details__item">\n        <p class="movie-details__aspect">Genre</p>\n        \x3c!--przykładowe wartości--\x3e\n        <p id="movie-details__value" class="movie-details__value">\n          <span id="movie-genre" class="movie-genre">Wester</span>\n        </p>\n      </li>\n    </ul>\n  </div>\n  <div class="movie-description">\n    <p class="movie-description__about">ABOUT</p>\n    <p id="movie-description__description" class="movie-description__description">\n      Lorem ipsum dolor sit amet consectetur adipisicing elit. A labore ut quo. Maxime corrupti\n      quasi quos sed molestias nisi delectus tempore est, commodi sit repudiandae, dolor\n      praesentium veniam. Corrupti maiores voluptate tenetur ullam enim, at deleniti unde\n      dignissimos porro dolores perferendis accusantium harum animi reprehenderit obcaecati\n      molestiae sunt doloremque earum.\n    </p>\n  </div>\n  <div class="buttons-box">\n    <button type="button" id="watched-button" class="watched-button">ADD TO WATCHED</button>\n    <button type="button" id="queue-button" class="queue-button">ADD TO QUEUE</button>\n  </div>\n</div>`)}(e)})).catch((e=>console.log(e)))}));
//# sourceMappingURL=index.0e6834b8.js.map
