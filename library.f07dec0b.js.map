{"mappings":"qgBAMA,MAAMA,EAAOC,SAASC,cAAc,SACpC,IAAIC,EAAY,GAEhB,MAAMC,EAAoBC,IACxB,IACE,MAAMC,EAAYC,KAAKC,MAAMC,aAAaC,QAAQL,IAElD,GADAM,QAAQC,IAAIN,GACM,OAAdA,EAAoB,OAyCxB,OAxCAA,EAAUO,SAAQC,IAChBH,QAAQC,IAAIE,GACZH,QAAQC,IAAIT,GACZ,MAAMY,EAAcD,EAAKE,OACtBC,KAAIC,IACH,MAAMC,EAAQhB,EAAUiB,MAAKD,GAASA,EAAME,KAAOH,IACnD,OAAOC,EAAQA,EAAMG,KAAKC,WAAa,EAAE,IAE1CC,KAAK,MACFC,EAAc,IAAIC,KAAKZ,EAAKa,cAAcC,mBAAmB,QAAS,CAC1EC,KAAM,UACNC,WAAOC,EACPC,SAAKD,IAEP/B,EAAKiC,mBACH,YACA,qMAIiBnB,EAAKO,gFACwBP,EAAKoB,qBAAqBpB,EAAKqB,4KAGjErB,EAAKsB,0IAGgDrB,8LAGvDU,iJAOX,IAGInB,CAGT,CAFE,MAAO+B,GACPC,MAAM,uBAAuBD,EAAEd,aACjC,GAGIgB,EAAYtC,SAASC,cAAc,mBACnCsC,EAAcvC,SAASC,cAAc,qBAE3CqC,EAAUE,iBAAiB,SAAS,KAClC9B,QAAQC,IAAI,aACZZ,EAAK0C,UAAY,IACjBtC,EAAkB,YAEpBoC,EAAYC,iBAAiB,SAAS,KACpC9B,QAAQC,IAAI,eACZZ,EAAK0C,UAAY,IACjBtC,EAAkB,cAGpBA,EAAkB","sources":["src/library.js"],"sourcesContent":["import './sass/main.scss';\nimport './javascript/modal';\nimport './javascript/fetchTrendingMovies';\nimport { fetchTrendingMovies } from './javascript/fetchTrendingMovies';\n//import './javascript/loader.js';\n\nconst main = document.querySelector('#main');\nlet genresArr = [];\n\nconst loadWatchedFromLS = key => {\n  try {\n    const parsedArr = JSON.parse(localStorage.getItem(key));\n    console.log(parsedArr);\n    if (parsedArr === null) return;\n    parsedArr.forEach(film => {\n      console.log(film);\n      console.log(genresArr);\n      const movieGenres = film.genres\n        .map(genreId => {\n          const genre = genresArr.find(genre => genre.id === genreId);\n          return genre ? genre.name.toString() : '';\n        })\n        .join(', ');\n      const releaseDate = new Date(film.release_date).toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: undefined,\n        day: undefined,\n      });\n      main.insertAdjacentHTML(\n        'beforeend',\n        `\n        <ul id=\"main__list\" class=\"main__list\">\n          <li id=\"main__list-item\" class=\"main__list-item\">\n            <figure id=\"main__movie\" class=\"main__movie\">\n              <img id=\"${film.id}\" class=\"main__image\"\n                src=\"https://image.tmdb.org/t/p/w500${film.poster_path}\" alt=\"${film.title}\" />\n              <figcaption id=\"main__caption\" class=\"main__caption\">\n                <span id=\"main__movie-name\" class=\"main__movie-name\">\n                  ${film.original_title}\n                </span>\n                <div>\n                <span id=\"main__movie-genres\" class=\"main__movie-data\">${movieGenres}</span>\n                <span class=\"main__movie-data\">|</span>\n                <span id=\"main__movie-release-date\" class=\"main__movie-release-date main__movie-data\">\n                ${releaseDate}\n                </span>\n                </div>\n              </figcaption>\n            </figure>\n          </li>\n        </ul>\n      `,\n      );\n    });\n    return parsedArr;\n  } catch (e) {\n    alert(`There was a mistake ${e.toString()}`);\n  }\n};\n\nconst userQueue = document.querySelector('#user-queue-btn');\nconst userWatched = document.querySelector('#user-watched-btn');\n\nuserQueue.addEventListener('click', () => {\n  console.log('queue btn');\n  main.innerHTML = ' ';\n  loadWatchedFromLS('queue');\n});\nuserWatched.addEventListener('click', () => {\n  console.log('watched btn');\n  main.innerHTML = ' ';\n  loadWatchedFromLS('watched');\n});\n\nloadWatchedFromLS('watched');\n"],"names":["$9a8afeea60b9dfd3$var$main","document","querySelector","$9a8afeea60b9dfd3$var$genresArr","$9a8afeea60b9dfd3$var$loadWatchedFromLS","key","parsedArr","JSON","parse","localStorage","getItem","console","log","forEach","film","movieGenres","genres","map","genreId","genre","find","id","name","toString","join","releaseDate","Date","release_date","toLocaleDateString","year","month","undefined","day","insertAdjacentHTML","poster_path","title","original_title","e","alert","$9a8afeea60b9dfd3$var$userQueue","$9a8afeea60b9dfd3$var$userWatched","addEventListener","innerHTML"],"version":3,"file":"library.f07dec0b.js.map"}