{"mappings":"qfAAA,MAAMA,EAAaC,SAASC,cAAc,qBACpCC,EAAWF,SAASC,cAAc,mBAExCF,EAAWI,iBAAiB,SAAS,KACnCD,EAASE,UAAUC,OAAO,kBAC1BN,EAAWK,UAAUE,IAAI,qBAG3BJ,EAASC,iBAAiB,SAAS,KACjCJ,EAAWK,UAAUC,OAAO,kBAC5BH,EAASE,UAAUE,IAAI,qB,4BCHzB,IAAIC,EAAc,UAElB,MAAMC,EAAoBC,IACxB,IACE,MAAMC,EAAYC,KAAKC,MAAMC,aAAaC,QAAQL,IAElD,GAAkB,OAAdC,EAAoB,OAuCxB,OArCAK,EAAAC,KAAKC,KAAKC,UAAY,GACtBR,EAAUS,SAAQC,IAChB,IAAIC,EAAmB,GAEvBA,EADsBD,EAAKE,OACMC,KAAIC,GAASA,EAAMC,OAAMC,KAAK,MAC/D,MAAMC,EAAc,IAAIC,KAAKR,EAAKS,cAAcC,mBAAmB,QAAS,CAC1EC,KAAM,UACNC,WAAOC,EACPC,SAAKD,IAEPlB,EAAAC,KAAKC,KAAKkB,mBACR,YACA,kMAIiBf,EAAKgB,gFACwBhB,EAAKiB,qBAAqBjB,EAAKkB,4KAGjElB,EAAKmB,0IAGgDlB,8LAGvDM,4FAE6CP,EAAKoB,0IAM7D,IAGI9B,CAGT,CAFE,MAAO+B,GACPC,QAAQC,IAAI,uBAAuBF,EAAEG,aACvC,GAGF7B,EAAAC,KAAK6B,UAAU1C,iBAAiB,SAAS,KACvCY,EAAAC,KAAKC,KAAKC,UAAY,IACtBX,EAAc,QACdC,EAAkB,YAEpBO,EAAAC,KAAK8B,YAAY3C,iBAAiB,SAAS,KACzCY,EAAAC,KAAKC,KAAKC,UAAY,IACtBX,EAAc,UACdC,EAAkB,cAUpBA,EAAkB,YAClB,EAAAuC,EAAAC,YARA,SAAuBvC,GACCF,IAAgBE,GAEpCD,EAAkBC,EAEtB","sources":["src/javascript/libraryButtons.js","src/library.js"],"sourcesContent":["const watchedBtn = document.querySelector('#user-watched-btn');\nconst queueBtn = document.querySelector('#user-queue-btn');\n\nwatchedBtn.addEventListener('focus', () => {\n  queueBtn.classList.remove('button--active');\n  watchedBtn.classList.add('button--active');\n});\n\nqueueBtn.addEventListener('focus', () => {\n  watchedBtn.classList.remove('button--active');\n  queueBtn.classList.add('button--active');\n});\n","import './sass/main.scss';\nimport { initModal } from './javascript/modal';\nimport './javascript/libraryButtons';\nimport { refs } from './javascript/refs';\nimport './javascript/footer-modal';\n// const main = document.querySelector('#main'); to importujemy z refs\n\nlet currentType = 'watched';\n\nconst loadWatchedFromLS = key => {\n  try {\n    const parsedArr = JSON.parse(localStorage.getItem(key));\n\n    if (parsedArr === null) return;\n\n    refs.main.innerHTML = '';\n    parsedArr.forEach(film => {\n      let movieGenresNames = [];\n      const movieGenresID = film.genres;\n      movieGenresNames = movieGenresID.map(genre => genre.name).join(', ');\n      const releaseDate = new Date(film.release_date).toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: undefined,\n        day: undefined,\n      });\n      refs.main.insertAdjacentHTML(\n        'beforeend',\n        `\n        <li id=\"main__element\" class=\"main__element\">\n          <div id=\"main__item\" class=\"main__item\">\n            <figure id=\"main__movie\" class=\"main__movie\">\n              <img id=\"${film.id}\" class=\"main__image\"\n                src=\"https://image.tmdb.org/t/p/w500${film.poster_path}\" alt=\"${film.title}\" />\n              <figcaption id=\"main__caption\" class=\"main__caption\">\n                <span id=\"main__movie-name\" class=\"main__movie-name\">\n                  ${film.original_title}\n                </span>\n                <div>\n                <span id=\"main__movie-genres\" class=\"main__movie-data\">${movieGenresNames}</span>\n                <span class=\"main__movie-data\">|</span>\n                <span id=\"main__movie-release-date\" class=\"main__movie-release-date main__movie-data\">\n                ${releaseDate}\n                </span>\n                <span id=\"movie-rating\" class=\"movie-rating\">${film.vote_average}</span>\n                </div>\n              </figcaption>\n            </figure>\n          </li>\n        </ul>\n      `,\n      );\n    });\n    return parsedArr;\n  } catch (e) {\n    console.log(`There was a mistake ${e.toString()}`);\n  }\n};\n\nrefs.userQueue.addEventListener('click', () => {\n  refs.main.innerHTML = ' ';\n  currentType = 'queue';\n  loadWatchedFromLS('queue');\n});\nrefs.userWatched.addEventListener('click', () => {\n  refs.main.innerHTML = ' ';\n  currentType = 'watched';\n  loadWatchedFromLS('watched');\n});\n\nfunction onModalAction(key) {\n  const shouldRefresh = currentType === key;\n  if (shouldRefresh) {\n    loadWatchedFromLS(key);\n  }\n}\n\nloadWatchedFromLS('watched');\ninitModal(onModalAction);\n"],"names":["$8376ca1135b5a651$var$watchedBtn","document","querySelector","$8376ca1135b5a651$var$queueBtn","addEventListener","classList","remove","add","$9a8afeea60b9dfd3$var$currentType","$9a8afeea60b9dfd3$var$loadWatchedFromLS","key","parsedArr","JSON","parse","localStorage","getItem","$eTQlF","refs","main","innerHTML","forEach","film","movieGenresNames","genres","map","genre","name","join","releaseDate","Date","release_date","toLocaleDateString","year","month","undefined","day","insertAdjacentHTML","id","poster_path","title","original_title","vote_average","e","console","log","toString","userQueue","userWatched","$1Go4p","initModal"],"version":3,"file":"library.e0cb3c19.js.map"}